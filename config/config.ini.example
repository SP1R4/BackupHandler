[DEFAULT]
# REQUIRED: Absolute path to the directory you want to back up
source_dir = /path/to/source
# REQUIRED: Backup strategy — full | incremental | differential
mode = full
# OPTIONAL: Compression type — none | zip | zip_pw (password-protected)
compress_type = zip
# OPTIONAL: Comma-separated glob patterns to exclude from backups
# Example: *.log,*.tmp,__pycache__/*,.git/*
exclude_patterns = None
# OPTIONAL: Number of parallel file copy threads for local backups (default: 1 = sequential)
parallel_copies = 1

[BACKUPS]
# REQUIRED: Comma-separated list of local backup destination directories
backup_dirs = /path/to/backup1, /path/to/backup2

[SSH]
# OPTIONAL: Comma-separated SSH server hostnames (required if ssh mode is True)
ssh_servers = None
# OPTIONAL: SSH username (required if ssh mode is True)
username = None
# OPTIONAL: SSH password (required if ssh mode is True)
# Supports env var syntax: password = ${SSH_PASSWORD}
password = None
# OPTIONAL: Bandwidth limit for SFTP uploads in KB/s (0 = unlimited)
bandwidth_limit = 0

[S3]
# OPTIONAL: S3 bucket name (required if s3 mode is True)
bucket = None
# OPTIONAL: S3 key prefix (folder path in bucket)
prefix =
# OPTIONAL: AWS region (required if s3 mode is True)
region = None
# OPTIONAL: AWS access key (uses default credentials if not set)
# Supports env var syntax: access_key = ${AWS_ACCESS_KEY_ID}
access_key = None
# OPTIONAL: AWS secret key (uses default credentials if not set)
# Supports env var syntax: secret_key = ${AWS_SECRET_ACCESS_KEY}
secret_key = None

[ENCRYPTION]
# OPTIONAL: Enable AES-256-GCM encryption at rest for backup files (True/False)
enabled = False
# OPTIONAL: Path to a 32-byte raw key file (takes priority over passphrase)
key_file = None
# OPTIONAL: Passphrase for key derivation (PBKDF2-HMAC-SHA256, 600k iterations)
# Supports env var syntax: passphrase = ${BACKUP_ENCRYPTION_PASSPHRASE}
passphrase = None

[DATABASE]
# OPTIONAL: MySQL database user (required if db mode is True)
user = None
# OPTIONAL: MySQL database password (required if db mode is True)
# Supports env var syntax: password = ${DB_PASSWORD}
password = None
# OPTIONAL: MySQL database name (required if db mode is True)
database = None
# OPTIONAL: MySQL host (default: localhost)
host = localhost
# OPTIONAL: MySQL port (default: 3306)
port = 3306

[SMTP]
# OPTIONAL: SMTP server hostname for email notifications
host = None
# OPTIONAL: SMTP server port (default: 587 for STARTTLS)
port = 587
# OPTIONAL: SMTP authentication username
# Supports env var syntax: user = ${SMTP_USER}
user = None
# OPTIONAL: SMTP authentication password
# Supports env var syntax: password = ${SMTP_PASSWORD}
password = None
# OPTIONAL: Sender email address (defaults to SMTP user)
from_addr = None
# OPTIONAL: Comma-separated recipient email addresses
to_addrs = None
# OPTIONAL: Use STARTTLS (True/False, default: True)
use_tls = True

[DEDUP]
# OPTIONAL: Enable file-level deduplication using hardlinks (True/False)
enabled = False

[SCHEDULE]
# REQUIRED (for --scheduled mode): Comma-separated times in HH:MM (24-hour) format
times = 03:00, 12:00
# OPTIONAL: How often (in minutes) the scheduler checks for matching times
interval_minutes = 60

[MODES]
# REQUIRED: Enable local backups (True/False)
local = True
# REQUIRED: Enable SSH/SFTP backups (True/False)
ssh = False
# OPTIONAL: Enable S3 cloud backups (True/False)
s3 = False
# OPTIONAL: Enable MySQL database dumps (True/False)
db = False

[HOOKS]
# OPTIONAL: Shell command to run before backup (non-zero exit aborts the backup)
pre_backup = None
# OPTIONAL: Shell command to run after backup (failure is logged but doesn't affect backup status)
post_backup = None

[RETENTION]
# OPTIONAL: Remove backups older than this many days (0 = disabled)
max_age_days = 0
# OPTIONAL: Keep only the N most recent backups per directory (0 = unlimited)
max_count = 0

[NOTIFICATIONS]
# OPTIONAL: Enable Telegram bot notifications (True/False)
bot = True
# OPTIONAL: Comma-separated email addresses for notifications, or None to disable
receiver_emails = None
